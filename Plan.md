## План автоматизации тестирования комплексного сервиса покупки тура, взаимодействующего с СУБД и API Банка
Задача состоит в автоматизации тестирования веб-сервиса покупки тура двумя способами:
 - обычная оплата по дебетовой карте;
 - кредит по данным банковской карты;

### Перечень автоматизируемых сценариев:
#### Покупка тура по дебетовой карте:
1. Позитивный сценарий покупки тура по дебетовой карте со статусом APPROVED.

   **Шаги**:
      * Перейти к покупке тура по дебетовой карте: «Купить»;
      * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
2. Позитивный сценарий отказа в оплате тура по дебетовой карте со статусом DECLINED.

   **Шаги**:
      * Перейти к покупке тура по дебетовой карте: «Купить»;
      * Ввести валидное значение номера карты, где статус карты = «DECLINED»: «4444 4444 4444 4442»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
      Покупка тура с помощью кредита:
3. Позитивный сценарий покупки тура с помощью кредита по карте со статусом APPROVED.

   **Шаги**:
      * Перейти к покупке тура с помощью кредита: «Купить в кредит»;
      * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на к латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
4. Позитивный сценарий отказа в оплате тура с помощью кредита по карте со статусом DECLINED.

   **Шаги**:
      * Перейти к покупке тура с помощью кредита: «Купить в кредит»;
      * Ввести валидное значение номера карты, где статус карты = «DECLINED»: «4444 4444 4444 4442»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
      
      **Ожидаемый результат для оплаты тура двумя способами:**

      ***Интерфейс:***

      Карта APPROVED: отображение модала с текстовкой: «Успешно! Операция одобрена банком».

      Карта DECLINED: отображение модала с текстовкой: «Ошибка! Банк отказал в проведении операции».

      ***СУБД:***

      Карта APPROVED: в СУБД появляются записи о созданных операциях в таблицах:
      * Оплата по дебетовой карте - order_entity  и payment_entity;
      * Оплата с помощью кредита - credit_request_entity и order_entity.
   
      Карта DECLINED: в СУБД появляются записи о созданных операциях в таблице payment_entity, credit_request_entity и order_entity

#### Покупка тура по дебетовой карте и с помощью кредита:
5. Оплата тура с незаполненными полями.

      **Шаги**:
      * Перейти на форму оплаты.
      * Оплатить с помощью кнопки «Продолжить».
   
      **Ожидаемый результат:** оплата невозможна, появляются ошибки валидации обязательных полей.
6. Оплата тура картой с истекшим сроком действия.

      **Шаги**:
      * Перейти на форму оплаты.
      * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести невалидное значение в поле «Год», где год < текущего года;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;

   **Ожидаемый результат:** оплата невозможна. Появляется подсказка «Истёк срок действия карты».
7. Оплата тура картой с невалидным значением поля «Владелец».

      **Шаги**:
      * Перейти на форму оплаты.
      * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести невалидное значение в поле «Владелец», состоящее из символов кириллицы/цифр и введенное не по маске;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
      
   **Ожидаемый результат:** оплата невозможна. Появляется подсказка о невалидном значении.
8. Оплата тура картой с невалидным значением поля «Месяц».
    
      **Шаги**:
      * Перейти на форму оплаты.
      * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
      * Ввести невалидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
   
      **Ожидаемый результат:** оплата невозможна. Появляется подсказка «Неверно указан срок действия карты». 
9. Оплата тура картой с введенным значением поля «Номер карты» не по маске.

      **Шаги**:
      * Перейти на форму оплаты.
      * Ввести значение номера карты, где номер карты введен не по маске;
      * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
      * Ввести валидное значение в поле «Год», где год >= текущему году;
      * Ввести валидное значение на латинице в поле «Владелец»;
      * Ввести валидное значение в поле «CVC/CVV», состоящее из 3 цифр.
      * Оплатить по кнопке «Продолжить»;
      **Ожидаемый результат:** оплата невозможна. Появляется подсказка «Неверный формат».
10. Оплата тура картой с введенным значением поля «CVC/CVV» не по маске.

       **Шаги**:
       * Перейти на форму оплаты.
       * Ввести валидное значение номера карты, где статус карты = «APPROVED»: «4444 4444 4444 4441»;
       * Ввести валидное значение в поле «Месяц», состоящее из 2 цифр.
       * Ввести валидное значение в поле «Год», где год >= текущему году;
       * Ввести валидное значение на латинице в поле «Владелец»;
       * Ввести значение в поле «CVC/CVV» не по маске.
       * Оплатить по кнопке «Продолжить»;
       Ожидаемый результат: оплата невозможна. Появляется подсказка «Неверный формат».

### Перечень используемых инструментов
1.	Git и GitHub – хранение кода.
2.	Gradle – система управления проектами.
3.	Java 11 – язык написания автотестов.
4.	junit5 - фреймворк для написания автотестов и их запуска.
5.	Selenide для автоматизации браузеров.
6.	Faker – генератор тестовых данных.
7.	Docker – автоматизация развёртывания и управления приложениями в средах с поддержкой контейнеризации, контейнеризатор приложений.


### Перечень и описание возможных рисков при автоматизации
1.	Интеграция с СУБД.
2.	Интеграция с симулятором банковских сервисов.
3.	Трудоемкость поиска локаторов (selenide) для автоматизации ui тестирования.

### Интервальная оценка с учетом рисков в часах
Планирование: 16 часов

Автоматизация: 24 часа

Отчетные документы по итогам тестирования: 6 часов

### План сдачи работ
Планирование: до 19.01.2023

Автоматизация: до 05.02.2023

Отчетные документы по итогам тестирования: 12.02.2023
